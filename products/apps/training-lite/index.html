<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>Training LITEï½œadjustment-lab</title>
<meta name="theme-color" content="#8b0029">
<link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
<link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Training LITE">
<style>
:root {
  --accent:#8b0029;
  --bg:#f8faf9;
  --text:#1a1a1a;
  font-family:'Noto Sans JP',sans-serif;
}
body {
  margin:0;background:var(--bg);color:var(--text);line-height:1.8;text-rendering:optimizeLegibility;
}
header{text-align:center;padding:48px 20px 24px;}
header h1{font-size:2rem;font-weight:700;color:var(--accent);margin-bottom:6px;}
header p{color:#555;opacity:0.9;font-size:1rem;}
main{max-width:480px;margin:0 auto;padding:20px;}
section{background:#fff;border-radius:12px;padding:24px 20px;margin-bottom:32px;box-shadow:0 2px 10px rgba(0,0,0,0.08);}
h2{color:var(--accent);font-size:1.2rem;margin-top:0;}
label{display:inline-block;margin-right:8px;font-weight:600;}
input[type="number"],input[type="text"],select{
  border:1px solid #ccc;border-radius:6px;padding:8px 10px;margin:6px 4px;
  font-size:1rem;width:100%;box-sizing:border-box;
}
button{background:var(--accent);color:#fff;border:none;border-radius:6px;padding:12px 22px;
  margin-top:20px;font-size:1rem;cursor:pointer;transition:0.3s;}
button:hover{opacity:0.9;}
#logList li{list-style:none;background:#fff;margin:6px 0;border-left:4px solid var(--accent);
  padding:8px 10px;border-radius:6px;box-shadow:0 1px 6px rgba(0,0,0,0.05);}
.del{background:none;border:1px solid var(--accent);color:var(--accent);
  padding:4px 10px;border-radius:4px;cursor:pointer;font-size:0.85rem;margin-left:8px;transition:0.3s;}
.del:hover{background:var(--accent);color:#fff;}
#splash{position:fixed;inset:0;background:radial-gradient(circle at 30% 20%,#8b0029 0%,#3f0015 100%);
  color:#fff;display:flex;justify-content:center;align-items:flex-start;overflow-y:auto;
  padding:40px 0;z-index:999;animation:fadeIn .6s ease forwards;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
.splash-card{background:rgba(255,255,255,0.06);backdrop-filter:blur(12px);
  border:1px solid rgba(255,255,255,0.15);border-radius:16px;padding:36px 28px;
  text-align:center;max-width:360px;width:90%;box-shadow:0 0 40px rgba(0,0,0,0.4);}
.splash-card img{width:96px;height:96px;margin-bottom:10px;}
.splash-card h1{color:#fff;margin-bottom:6px;}
.splash-card p.desc{color:#ffe6ec;line-height:1.6;font-size:0.95rem;margin-bottom:18px;}
.splash-card .howto,.splash-card .purpose,.splash-card .pro{text-align:left;}
.splash-card ul,.splash-card ol{text-align:left;margin-left:1.2em;}
.pro-link{background:#f8f8f8;color:#333;text-align:center;padding:48px 24px;border-radius:12px;
  max-width:480px;margin:60px auto;box-shadow:0 2px 12px rgba(0,0,0,0.08);border:1px solid #ddd;}
.pro-link h2{color:#8b0029;font-size:1.4rem;font-weight:700;margin-bottom:12px;}
.pro-link p{line-height:1.8;font-size:0.95rem;color:#444;margin-bottom:20px;}
.pro-link .cta button{background:#8b0029;color:#fff;border:none;padding:10px 22px;border-radius:6px;
  font-size:1rem;cursor:pointer;transition:0.3s;box-shadow:0 2px 8px rgba(0,0,0,0.15);}
.pro-link .cta button:hover{opacity:0.9;}
footer{text-align:center;padding:20px;font-size:0.85rem;color:#666;}
.progress-container{background:#eee;border-radius:6px;height:16px;margin-top:12px;overflow:hidden;}
#progressBar{background:var(--accent);height:100%;width:0;transition:width .4s ease;}
select#modeSelect{margin-top:8px;border:1px solid #aaa;background:#fff;}
</style>
</head>
<body>
<div id="splash">
  <div class="splash-card">
    <img src="icon-192.png" alt="Training Lite ã‚¢ã‚¤ã‚³ãƒ³">
    <h1>Training Lite</h1>
    <p class="desc">æ¯æ—¥ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’â€œè¨­è¨ˆâ€ã™ã‚‹ã‚¢ãƒ—ãƒªã€‚<br>ç›®çš„ã‚’è¨­å®šã—ã€è¡Œå‹•ã‚’è¨˜éŒ²ã—ã¦ã€æˆé•·ã‚’æ§‹é€ çš„ã«ç©ã¿ä¸Šã’ã‚‹ã€‚</p>
    <div class="howto">
      <p>ğŸ“˜ <b>ä½¿ã„æ–¹</b></p>
      <ol>
        <li>ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°å‰ã«ã€Œç›®æ¨™ã€ã‚’è¨­å®šã™ã‚‹ã€‚</li>
        <li>ç¨®ç›®ãƒ»å¼·åº¦ãƒ»æ™‚é–“ã‚’å…¥åŠ›ã—ã¦è¨˜éŒ²ã™ã‚‹ã€‚</li>
        <li>è¨˜éŒ²ãŒç©ã¿é‡ãªã‚‹ã¨â€œé”æˆç‡â€ãŒé€²ã‚€ã€‚</li>
      </ol>
    </div>
    <div class="buttons">
      <button id="startBtn">ã¯ã˜ã‚ã‚‹</button>
    </div>
  </div>
</div>
<header>
  <h1>Training LITE</h1>
  <p>è‡ªåˆ†ã§è¨­å®šã—ã€å®Ÿè¡Œã—ã€è¨˜éŒ²ã™ã‚‹ã€‚æ€è€ƒã‚’å½¢ã«ã™ã‚‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ­ã‚°ã€‚</p>
</header>
<main>
  <section>
    <h2>ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°å…¥åŠ›</h2>
    <form id="trainingForm">
      <label>ç›®æ¨™å</label>
      <input type="text" id="goal" placeholder="ä¾‹ï¼šä¸‹åŠèº«ã®å®‰å®šæ€§ã‚’é«˜ã‚ã‚‹" required>
      <label>ç¨®ç›®</label>
      <input type="text" id="exercise" placeholder="ä¾‹ï¼šã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ" required>
      <label>å¼·åº¦ï¼ˆkg / å›æ•°ï¼‰</label>
      <input type="text" id="intensity" placeholder="ä¾‹ï¼š80kg Ã— 8å›">
      <label>æ™‚é–“ï¼ˆç§’ / åˆ†ï¼‰</label>
      <input type="text" id="duration" placeholder="ä¾‹ï¼š45ç§’ Ã— 3ã‚»ãƒƒãƒˆ">
      <button type="submit">è¨˜éŒ²ã™ã‚‹</button>
      <span id="checkArea"></span>
    </form>
  </section>
  <section>
    <h2>è¨˜éŒ²ä¸€è¦§</h2>
    <ul id="logList"></ul>
  </section>
  <section>
    <h2>é”æˆçŠ¶æ³</h2>
    <label for="modeSelect">é”æˆåŸºæº–ï¼š</label>
    <select id="modeSelect">
      <option value="count">é »åº¦ï¼ˆé€±â—¯å›ï¼‰</option>
      <option value="time">ç·æ™‚é–“ï¼ˆåˆ†ï¼‰</option>
      <option value="load">ç·é‡é‡ï¼ˆkgï¼‰</option>
      <option value="score">è² è·ã‚¹ã‚³ã‚¢ï¼ˆRPEÃ—æ™‚é–“ï¼‰</option>
    </select>
    <div class="progress-container">
      <div id="progressBar"></div>
    </div>
    <p id="progressText">é”æˆç‡ï¼š0%</p>
  </section>
</main>
<section class="pro-link">
  <h2>å¾‹å‹• PRO â€• çµ±åˆã¨å†ç¾ã®ä¸–ç•Œã¸</h2>
  <p>ã“ã®ã‚¢ãƒ—ãƒªã§å¾—ãŸãƒ‡ãƒ¼ã‚¿ã¯ã€å¾‹å‹• PRO ã§çµ±åˆè§£æã§ãã¾ã™ã€‚<br>
  å‡ºåŠ›ã¨å›å¾©ã€ãƒ†ãƒ³ãƒã¨ç²¾åº¦ã‚’ã²ã¨ã¤ã®ç”»é¢ã§ç¢ºèªã—ã‚ˆã†ã€‚</p>
  <div class="cta">
    <button onclick="window.location.href='../pro/index.html'">å¾‹å‹• PRO ã‚’è¦‹ã‚‹</button>
  </div>
</section>
<footer>Â© 2025 adjustment-labï½œTraining LITE</footer>
<script>
if (!localStorage.getItem("trainingLiteVisited")) {
  document.getElementById("splash").style.display="flex";
} else {
  document.getElementById("splash").style.display="none";
}
document.getElementById("startBtn").onclick=()=>{
  localStorage.setItem("trainingLiteVisited","true");
  document.getElementById("splash").style.opacity="0";
  setTimeout(()=>{document.getElementById("splash").remove();},600);
};

const form=document.getElementById("trainingForm");
const logList=document.getElementById("logList");
const progressBar=document.getElementById("progressBar");
const progressText=document.getElementById("progressText");
const modeSelect=document.getElementById("modeSelect");

let logs=JSON.parse(localStorage.getItem("trainingLogs")||"[]");

function saveLog(log){logs.push(log);localStorage.setItem("trainingLogs",JSON.stringify(logs));}

function updateLogs(){
  logList.innerHTML="";
  logs.forEach((l,i)=>{
    const li=document.createElement("li");
    li.textContent=`${l.date}ï½œ${l.goal}ï½œ${l.exercise}ï½œ${l.intensity}ï½œ${l.duration}`;
    const delBtn=document.createElement("button");
    delBtn.textContent="å‰Šé™¤";delBtn.className="del";
    delBtn.onclick=()=>{if(confirm("å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")){logs.splice(i,1);
      localStorage.setItem("trainingLogs",JSON.stringify(logs));updateLogs();updateProgress();}};
    li.appendChild(delBtn);logList.appendChild(li);
  });
}

function updateProgress(){
  const mode=modeSelect.value;
  const now=new Date();
  const thisWeekLogs=logs.filter(l=>{
    const d=new Date(l.date);
    return (now-d)/(1000*60*60*24)<=7;
  });
  let rate=0;
  if(mode==="count"){
    const target=3;rate=Math.min((thisWeekLogs.length/target)*100,100);
  }else if(mode==="time"){
    const target=150;
    const total=thisWeekLogs.reduce((sum,l)=>{
      const m=l.duration?l.duration.match(/\d+/g):[];
      const mins=m?m.map(Number).reduce((a,b)=>a+b,0)/60:0;
      return sum+mins;},0);
    rate=Math.min((total/target)*100,100);
  }else if(mode==="load"){
    const target=10000;
    const total=thisWeekLogs.reduce((sum,l)=>{
      const m=l.intensity?l.intensity.match(/\d+/g):[];
      if(m.length>=2){const [w,r]=m.map(Number);return sum+(w*r);}
      return sum;},0);
    rate=Math.min((total/target)*100,100);
  }else if(mode==="score"){
    const target=1000;
    const total=thisWeekLogs.reduce((sum,l)=>{
      const t=l.duration?parseInt(l.duration.match(/\d+/)?.[0]||0):0;
      const r=l.rpe?parseInt(l.rpe):5;
      return sum+(t*r);},0);
    rate=Math.min((total/target)*100,100);
  }
  progressBar.style.width=rate+"%";
  progressText.textContent=`é”æˆç‡ï¼š${Math.round(rate)}%`;
}
modeSelect.addEventListener("change",updateProgress);

form.addEventListener("submit",e=>{
  e.preventDefault();
  const newLog={
    goal:goal.value.trim(),
    exercise:exercise.value.trim(),
    intensity:intensity.value.trim(),
    duration:duration.value.trim(),
    date:new Date().toLocaleDateString("ja-JP")
  };
  saveLog(newLog);updateLogs();updateProgress();form.reset();
});

updateLogs();updateProgress();
</script>
</body>
</html>
